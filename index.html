<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cyber Security Maturity Model – Check Point</title>
  <meta name="description" content="Secure your business today by assessing your cyber security maturity with our quick assessment." />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <style>
    :root {
      --primary: #0055a5;
      --red: #B70E4E;
      --light-blue: #AADAFF;
      --green: #2E7D32;
      --orange: #FF9800;
      --dark-red: #D32F2F;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #000;
      color: #000;
      line-height: 1.5;
      overflow-x: hidden;
      position: relative;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    #white-bg, #question-bg {
      position: fixed;
      inset: 0;
      background: #ffffff;
      z-index: -5;
      opacity: 0;
      transition: opacity 0.6s ease;
      pointer-events: none;
    }
    #white-bg.active { opacity: 1; }
    #question-bg.active { opacity: 1; }
    .navbar-top {
      position: absolute;
      top: 0; left: 0; right: 0;
      z-index: 100;
      padding: 1rem 5%;
    }
    .nav-flex {
      display: flex;
      justify-content: center;
      align-items: center;
      max-width: 1400px;
      margin: 0 auto;
    }
    .nav-logo img { height: 36px; width: auto; }
    #home {
      position: relative;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 5rem 5% 3rem;
    }
    .banner-video {
      position: absolute;
      inset: 0;
      width: 100%; height: 100%;
      object-fit: cover;
      z-index: 1;
    }
    .home-header {
      position: relative;
      z-index: 2;
      text-align: center;
      padding: 0 5%;
      max-width: 880px;
    }
    .button-wrapper {
      display: flex;
      justify-content: center;
      margin-top: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }
    .button, .pdf-button, .email-button {
      background: var(--primary);
      color: white;
      font-weight: 600;
      font-size: 1.1rem;
      padding: 1.1rem 2.4rem;
      border-radius: 50px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.3);
      cursor: pointer;
      border: none;
      min-width: 260px;
      transition: all 0.25s;
      touch-action: manipulation;
    }
    .email-button {
      background: #2E7D32;
    }
    .button:hover, .pdf-button:hover, .email-button:hover {
      background: #004080;
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.35);
    }
    .email-button:hover {
      background: #1B5E20;
    }
    #assessment { display: none; }
    .assessment-container {
      display: flex;
      min-height: 100vh;
      position: relative;
    }
    .main-content {
      flex: 1;
      padding: 90px 5% 60px;
      max-width: 1400px;
      margin: 0 auto;
    }
    .question-progress-container {
      margin: 0 auto 2rem;
      max-width: 900px;
    }
    .progress-border {
      height: 12px;
      background: #e0e0e0;
      border-radius: 6px;
      overflow: hidden;
    }
    #question-progress-bar {
      height: 100%;
      width: 0%;
      background: var(--primary);
      transition: width 0.6s ease-out;
    }
    .q-box {
      max-width: 1200px;
      margin: 0 auto 4rem;
      background: #ffffff;
      color: #000;
      border-radius: 16px;
      padding: 2.5rem 2.5rem;
      box-shadow: 0 10px 35px rgba(0,0,0,0.2);
      display: none;
      border: 1px solid #e8e8e8;
    }
    .q-box.active { display: block; }
    .q-header {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      line-height: 1.3;
    }
    .sub {
      font-size: 1rem;
      color: #555;
      margin-top: 0.3rem;
      margin-bottom: 1.2rem;
      font-weight: 500;
    }
    .answer-wrap {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    @media (min-width: 900px) {
      .answer-wrap { grid-template-columns: repeat(2, 1fr); }
    }
    .answer {
      padding: 1.2rem 1.8rem 1.2rem 2.2rem;
      border: 2px solid #d0d0d0;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.22s;
      background: #f9f9f9;
      display: flex;
      align-items: center;
      min-height: 70px;
      touch-action: manipulation;
    }
    .answer:hover { border-color: var(--primary); background: #f0f7ff; }
    .answer.selected { border-color: var(--primary); background: #e6f2ff; }
    .inner-wrap {
      display: flex;
      align-items: center;
      gap: 1.2rem;
      width: 100%;
    }
    @media (max-width: 768px) {
      .inner-wrap { gap: 1rem; }
      .answer {
        padding: 1rem 1.5rem 1rem 1.8rem;
        min-height: 65px;
      }
      .q-box {
        padding: 2rem 2rem;
      }
      .q-header {
        font-size: 1.6rem;
      }
    }
    .text {
      font-size: 1rem;
      font-weight: 500;
      line-height: 1.4;
      flex: 1;
      min-width: 0;
    }
    input[type="radio"], input[type="checkbox"] { display: none; }
    .radio, .checkbox {
      width: 22px;
      height: 22px;
      border: 2px solid #888;
      border-radius: 50%;
      background: white;
      flex-shrink: 0;
      position: relative;
      margin-right: 0.8rem;
    }
    .checkbox {
      border-radius: 5px;
      margin-right: 0.8rem;
    }
    input:checked + .radio::after,
    input:checked + .checkbox::after {
      content: "";
      position: absolute;
      inset: 5px;
      background: var(--primary);
      border-radius: inherit;
    }
    .btn-box-wrap {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .last-box {
      text-align: center;
      padding: 5rem 2rem 3rem;
      border-radius: 16px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.25);
    }
    .last-box .title { font-size: 2.2rem; font-weight: 700; margin-bottom: 1rem; }
    .last-box .text { font-size: 1.2rem; margin: 1rem 0 1.5rem; color: #555; }
    .progress-border { height: 14px; background: #e0e0e0; border-radius: 7px; margin: 2rem auto; max-width: 440px; overflow: hidden; }
    #progress-bar { height: 100%; width: 0%; background: var(--primary); transition: width 2.8s ease-out; }
   
    /* Results Page Specific Styles - MOBILE FRIENDLY */
    .results-summary {
      text-align: center;
      margin-bottom: 3rem;
    }
   
    .overall-score {
      font-size: 3rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }
   
    .maturity-level {
      font-size: 1.5rem;
      color: #555;
      margin-bottom: 2rem;
    }
   
    .pillars-table {
      width: 100%;
      border-collapse: collapse;
      margin: 2rem 0;
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
   
    .pillars-table th {
      background: var(--primary);
      color: white;
      padding: 1.2rem 0.8rem;
      text-align: left;
      font-weight: 600;
      font-size: 0.9rem;
    }
   
    .pillars-table td {
      padding: 1rem 0.8rem;
      border-bottom: 1px solid #eee;
      font-size: 0.9rem;
    }
   
    .pillars-table tr:hover {
      background: #f9f9f9;
    }
   
    .pillars-table tr:last-child td {
      border-bottom: none;
    }
   
    .pillar-name {
      font-weight: 600;
      color: #333;
    }
   
    .score-cell {
      text-align: center;
      font-weight: 600;
    }
   
    .score-bar-container {
      width: 100%;
      height: 20px;
      background: #f0f0f0;
      border-radius: 10px;
      overflow: hidden;
      margin-top: 0.5rem;
    }
   
    .score-bar {
      height: 100%;
      background: var(--primary);
      border-radius: 10px;
      transition: width 1s ease-out;
    }
   
    .recommendations-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
      margin-top: 2rem;
    }
   
    @media (min-width: 768px) {
      .recommendations-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
   
    .recommendation-card {
      background: white;
      border-radius: 10px;
      padding: 1.5rem;
      border-left: 4px solid var(--primary);
      box-shadow: 0 4px 8px rgba(0,0,0,0.08);
    }
   
    .recommendation-card h4 {
      color: var(--primary);
      margin-bottom: 0.8rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
   
    .priority-badge {
      padding: 0.2rem 0.6rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
      white-space: nowrap;
    }
   
    .priority-critical {
      background: var(--dark-red);
      color: white;
    }
   
    .priority-high {
      background: var(--orange);
      color: white;
    }
   
    .priority-medium {
      background: #ffc107;
      color: #333;
    }
   
    .priority-low {
      background: #4caf50;
      color: white;
    }
   
    .recommendation-card ul {
      padding-left: 1.2rem;
      margin: 0;
    }
   
    .recommendation-card li {
      margin-bottom: 0.5rem;
      padding: 0.2rem 0;
      font-size: 0.95rem;
    }
   
    .download-section {
      text-align: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 2px solid #eee;
    }
   
    .no-recommendations {
      text-align: center;
      padding: 3rem;
      background: #f8f9fa;
      border-radius: 10px;
      margin-top: 2rem;
    }
   
    .no-recommendations h3 {
      color: var(--green);
      margin-bottom: 1rem;
    }
   
    .email-form {
      background: #f8f9fa;
      padding: 2rem;
      border-radius: 10px;
      margin-top: 2rem;
    }
   
    .email-form h3 {
      margin-bottom: 1rem;
      color: var(--primary);
      font-size: 1.3rem;
    }
   
    .email-form input {
      width: 100%;
      padding: 0.8rem;
      margin: 0.5rem 0 1rem;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 1rem;
    }
   
    .email-success {
      background: #d4edda;
      color: #155724;
      padding: 1rem;
      border-radius: 5px;
      margin-top: 1rem;
      display: none;
      text-align: center;
    }
   
    .email-error {
      background: #f8d7da;
      color: #721c24;
      padding: 1rem;
      border-radius: 5px;
      margin-top: 1rem;
      display: none;
      text-align: center;
    }
   
    .email-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }
   
    /* Mobile responsiveness for tables */
    @media (max-width: 768px) {
      .pillars-table {
        display: block;
        overflow-x: auto;
      }
     
      .pillars-table th,
      .pillars-table td {
        min-width: 120px;
        padding: 0.8rem 0.5rem;
      }
     
      .pillar-name {
        min-width: 150px;
      }
     
      .overall-score {
        font-size: 2.5rem;
      }
     
      .maturity-level {
        font-size: 1.2rem;
      }
     
      .email-buttons {
        flex-direction: column;
        align-items: center;
      }
     
      .email-buttons .button,
      .email-buttons .pdf-button,
      .email-buttons .email-button {
        width: 100%;
        max-width: 300px;
      }
     
      .q-header {
        font-size: 1.4rem;
      }
     
      .recommendation-card h4 {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
      }
     
      .priority-badge {
        align-self: flex-start;
      }
    }
   
    @media (max-width: 480px) {
      .pillars-table th,
      .pillars-table td {
        font-size: 0.8rem;
        padding: 0.6rem 0.4rem;
      }
     
      .overall-score {
        font-size: 2rem;
      }
     
      .maturity-level {
        font-size: 1rem;
      }
     
      .email-form {
        padding: 1.5rem;
      }
     
      .email-form h3 {
        font-size: 1.1rem;
      }
    }
   
    /* Loading spinner */
    .loading-spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
      margin-right: 10px;
    }
   
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
   
    /* Auto-email notification */
    .auto-email-notice {
      background: #e3f2fd;
      color: #1565c0;
      padding: 1rem;
      border-radius: 5px;
      margin-top: 1rem;
      text-align: center;
      display: none;
    }
   
    /* For very small screens */
    @media (max-width: 360px) {
      .button, .pdf-button, .email-button {
        min-width: 200px;
        padding: 0.9rem 1.5rem;
        font-size: 1rem;
      }
     
      .email-form {
        padding: 1rem;
      }
     
      .recommendation-card {
        padding: 1rem;
      }
    }
  </style>
</head>
<body>
  <div id="white-bg"></div>
  <div id="question-bg"></div>
  <nav class="navbar-top">
    <div class="nav-flex">
      <div class="nav-logo">
        <img src="https://assessment.checkpoint.com/wp-content/uploads/2024/08/logo.svg" alt="Check Point Logo">
      </div>
    </div>
  </nav>
  <section id="home">
    <video class="banner-video" autoplay loop muted playsinline poster="https://assessment.checkpoint.com/wp-content/uploads/2024/08/desktop_hero_6.png">
      <source src="https://player.vimeo.com/progressive_redirect/playback/995793097/rendition/1080p/file.mp4?loc=external&log_user=0&signature=f093b203100aa9332ece8b00759cb15fc73bef76d9ac5ef652aab2cee641c7af" type="video/mp4">
    </video>
    <div class="home-header">
      <h2>SECURE YOUR BUSINESS TODAY</h2>
      <div class="button-wrapper">
        <button class="button" onclick="startAssessment()">Cyber Security Maturity Model</button>
      </div>
    </div>
  </section>
  <div id="assessment" class="assessment-container">
    <div class="main-content">
      <div class="question-progress-container">
        <div class="progress-border">
          <div id="question-progress-bar"></div>
        </div>
      </div>
      <!-- Question 1 -->
      <div id="q1" class="q-box active" data-num="1">
        <div class="q-header">To what extent are advanced network protections deployed across all sites?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q1">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Next-Generation Firewall (NGFW)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q1">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Intrusion Detection/Prevention Systems (IDS/IPS)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q1">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Network Segmentation and Microsegmentation</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q1">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Network Access Control (NAC)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q1">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">DNS and Content Filtering</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q1">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">User Entity Behavioural Analysis</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q1">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Deception Technologies (e.g., honeypots)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q1">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">SASE Secure Remote Access</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q1">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">VPN Secure Remote Access</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q1">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Network Traffic Analysis (NTA)</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button next" onclick="nextQuestion(1)">NEXT →</button>
        </div>
      </div>
      <!-- Question 2 -->
      <div id="q2" class="q-box" data-num="2">
        <div class="q-header">How do you scale security performance and capacity in your on-premises data center environment when demand increases (e.g., during peak traffic, growth, or seasonal bursts such as e-commerce events)?</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="radio" name="q2">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">We use a fully scalable, elastic security solution that dynamically adds capacity (e.g., cloud-like auto-scaling firewalls or security fabric)</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q2">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">We use clustering or load balancing across multiple fixed security appliances from a single vendor</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q2">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">We manually purchase and deploy additional firewalls/appliances when capacity is reached</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q2">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">We do not have a scalable approach — capacity is fixed and often becomes a bottleneck</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(2)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(2)">NEXT →</button>
        </div>
      </div>
      <!-- Question 3 -->
      <div id="q3" class="q-box" data-num="3">
        <div class="q-header">Does your firewall clustering provide full and active resiliency?</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="radio" name="q3">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Active-active firewalls are deployed from a single vendor</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q3">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Active-passive firewalls are deployed in highly available clusters</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q3">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Firewalls with load balancers from another vendor are deployed</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q3">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Not sure</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(3)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(3)">NEXT →</button>
        </div>
      </div>
      <!-- Question 4 -->
      <div id="q4" class="q-box" data-num="4">
        <div class="q-header">What do you currently use to automatically prevent sophisticated attacks that move laterally across macro and micro segments?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q4">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Software-defined Networking</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q4">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Agile and automated policy</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q4">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Business logic policy</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q4">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Service chaining using NSX/Cisco/ACI/OpenStack</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q4">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Dedicated policy layers</div>
            </div>
          </label>
          <label class="answer uncheck-all">
            <input type="checkbox" name="q4">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Not sure</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(4)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(4)">NEXT →</button>
        </div>
      </div>
      <!-- Question 5 -->
      <div id="q5" class="q-box" data-num="5">
        <div class="q-header">Which of these Artificial Intelligence and Machine Learning technologies are you using to hunt down threats and preemptively look for the first stages of an attack?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q5">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Sandboxing</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q5">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Next Generation Web Application Firewall</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q5">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Cloud-native vulnerability scanning</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q5">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Real-time threat intelligence to prevent zero-day attacks</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q5">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Kubernetes runtime security</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q5">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Anti-malware</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q5">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">File sanitization (CDR)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q5">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Malware DNA</div>
            </div>
          </label>
          <label class="answer uncheck-all">
            <input type="checkbox" name="q5">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Not sure</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(5)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(5)">NEXT →</button>
        </div>
      </div>
      <!-- Question 6 -->
      <div id="q6" class="q-box" data-num="6">
        <div class="q-header">How do you secure workloads such as Kubernetes, containers, serverless?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q6">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Posture management</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q6">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Threat prevention</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q6">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Vulnerability scanning</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q6">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Least privileged access</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q6">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Not using cloud for workloads</div>
            </div>
          </label>
          <label class="answer uncheck-all">
            <input type="checkbox" name="q6">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Not sure</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(6)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(6)">NEXT →</button>
        </div>
      </div>
      <!-- Question 7 -->
      <div id="q7" class="q-box" data-num="7">
        <div class="q-header">Do you have unified security and threat management for your on-premises and cloud environments?</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="radio" name="q7">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Fully unified</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q7">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Managed through separate tools</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q7">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Not sure</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(7)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(7)">NEXT →</button>
        </div>
      </div>
      <!-- Question 8 -->
      <div id="q8" class="q-box" data-num="8">
        <div class="q-header">What percentage of your organization's employees work from home at least 2 days a week?</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="radio" name="q8">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Up to 10%</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q8">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">11%–50%</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q8">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">51%–80%</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q8">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Over 80%</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(8)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(8)">NEXT →</button>
        </div>
      </div>
      <!-- Question 9 -->
      <div id="q9" class="q-box" data-num="9">
        <div class="q-header">Your organization's security policy allows remote access to corporate applications</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q9">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">We do not allow any remote access</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q9">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Employees with company managed laptops and/or mobile devices only</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q9">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">From personal mobile devices</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q9">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">From personal laptops</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q9">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">By third parties (contractors, consultants or partners)</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(9)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(9)">NEXT →</button>
        </div>
      </div>
      <!-- Question 10 -->
      <div id="q10" class="q-box" data-num="10">
        <div class="q-header">Connecting remote users to corporate applications in your company requires</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q10">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">SASE connection (cloud-based service)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q10">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Device risk posture check</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q10">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Multi-factor authentication</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q10">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">VPN connection</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(10)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(10)">NEXT →</button>
        </div>
      </div>
      <!-- Question 11 -->
      <div id="q11" class="q-box" data-num="11">
        <div class="q-header">How do you protect remote users while they are browsing the internet?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q11">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Sanitize potentially malicious downloads</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q11">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Real-time scanning of online forms for phishing prevention</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q11">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Stop entering corporate credentials to non-business websites</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q11">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Restrict access to certain websites (e.g. block access to adult and gambling sites)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q11">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Scan for data leakage</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q11">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Prevent access to URLs known as malicious</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(11)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(11)">NEXT →</button>
        </div>
      </div>
      <!-- Question 12 -->
      <div id="q12" class="q-box" data-num="12">
        <div class="q-header">How do you prevent sensitive business data from leaking outside the corporate?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q12">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Disk encryption on endpoint devices</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q12">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Scan files for sensitive content before uploaded to external websites/messaging apps</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q12">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Scan content that's uploaded in the browser</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q12">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Scan email and office applications for sensitive content before it is shared externally</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q12">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Permit safe use of Generative AI tools</div>
            </div>
          </label>
          <label class="answer uncheck-all">
            <input type="checkbox" name="q12">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">I don't know</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(12)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(12)">NEXT →</button>
        </div>
      </div>
      <!-- Question 13 -->
      <div id="q13" class="q-box" data-num="13">
        <div class="q-header">Pick the applications your company's employees use for corporate email and cloud applications</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="radio" name="q13">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Office 365 + Google apps + Teams/SharePoint/OneDrive</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q13">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Gmail + Google Workspace</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q13">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Mixed modern SaaS (Office 365/Google + Zoom/Slack/Dropbox)</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q13">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">On-premises email (Microsoft Exchange) only</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q13">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">Other apps only (Zoom/Slack/Dropbox etc.)</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(13)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(13)">NEXT →</button>
        </div>
      </div>
      <!-- Question 14 -->
      <div id="q14" class="q-box" data-num="14">
        <div class="q-header">In the case of a ransomware attack, my organization's endpoint protection can:</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q14">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Recover ransomware-encrypted files</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q14">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Automatically detect and stop the attack</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q14">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Quarantine the infected endpoint</div>
            </div>
          </label>
          <label class="answer uncheck-all">
            <input type="checkbox" name="q14">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">None of the above</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(14)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(14)">NEXT →</button>
        </div>
      </div>
      <!-- Question 15 -->
      <div id="q15" class="q-box" data-num="15">
        <div class="q-header">Which of the following security solutions are being used in your company?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q15">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Endpoint Detection and Response / Extended Detection and Response / Managed Detection and Response (EDR/XDR/MDR)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q15">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Next-Generation Antivirus / Endpoint Protection Platform (NGAV/EPP)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q15">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Cloud-based security services (SASE)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q15">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Email security</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q15">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Secure web gateway</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q15">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Mobile threat defence</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q15">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Endpoint and mobile vulnerability management</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q15">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Cloud-based application posture check</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q15">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Collaboration apps security</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(15)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(15)">NEXT →</button>
        </div>
      </div>
      <!-- Question 16 -->
      <div id="q16" class="q-box" data-num="16">
        <div class="q-header">How many security vendors do you use to secure remote internet access, corporate access, email, identities, assets and data?</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="radio" name="q16">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">1–3 vendors</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q16">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">4–6 vendors</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q16">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">7–9 vendors</div>
            </div>
          </label>
          <label class="answer">
            <input type="radio" name="q16">
            <div class="radio"></div>
            <div class="inner-wrap">
              <div class="text">10+ vendors</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(16)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(16)">NEXT →</button>
        </div>
      </div>
      <!-- Question 17 -->
      <div id="q17" class="q-box" data-num="17">
        <div class="q-header">What endpoint protections are in use?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q17">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Endpoint Detection and Response (EDR)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q17">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Antivirus / Anti-malware</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q17">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Full Disk Encryption + Removable Device Encryption</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q17">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Application Control</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q17">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Posture Management (vulnerability) with Patch Management</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q17">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">USB / Peripheral Control</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q17">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Browser Security with Content Filtering and Data Loss Prevention</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q17">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Mobile Device Management (MDM) + Mobile Device Security</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q17">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Local Firewall and Host-based Intrusion Detection System</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q17">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Device Policy Configuration and Control</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(17)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(17)">NEXT →</button>
        </div>
      </div>
      <!-- Question 18 -->
      <div id="q18" class="q-box" data-num="18">
        <div class="q-header">To what extent are advanced cloud protections deployed?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q18">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Cloud Security Posture Management (CSPM)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q18">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Cloud Workload Protection Platform (CWPP)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q18">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Cloud Infrastructure Entitlement Management (CIEM)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q18">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Encryption of Data at Rest and in Transit</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q18">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Network Segmentation</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q18">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Cloud Firewall</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q18">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Cloud Web Application Firewall</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q18">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Container Security + Serverless (e.g., image scanning, runtime protection)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q18">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Cloud-Native Application Protection Platform (CNAPP)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q18">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Cloud Access Security Broker (CASB)</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(18)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(18)">NEXT →</button>
        </div>
      </div>
      <!-- Question 19 -->
      <div id="q19" class="q-box" data-num="19">
        <div class="q-header">To what extent are your applications protected?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q19">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Web Application Firewall (WAF)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q19">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Static and Dynamic Application Security Testing (SAST/DAST)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q19">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Software Composition Analysis (SCA)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q19">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Secure Software Development Life Cycle Practices</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q19">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">API Security</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q19">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Large Language Model Security</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q19">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Code Signing and Integrity Checks</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q19">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">DevSecOps Integration</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q19">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Penetration Testing</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q19">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">OWASP Top 10 Mitigation</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(19)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(19)">NEXT →</button>
        </div>
      </div>
      <!-- Question 20 -->
      <div id="q20" class="q-box" data-num="20">
        <div class="q-header">Do you have advanced email and collaboration protection?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q20">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Email Security in place</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q20">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Phishing Protection and Simulation</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q20">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Attachment Sandboxing + Encrypted Attachments</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q20">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">URL Rewriting and Click Protection</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q20">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">DMARC, DKIM, SPF Enforcement</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q20">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Data Leakage Prevention (DLP) for Email and Collaboration</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q20">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Email Encryption</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q20">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Collaboration Tool Monitoring (e.g., Teams, Slack)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q20">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Impersonation and Spoofing Detection</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q20">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">User Awareness Training</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(20)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(20)">NEXT →</button>
        </div>
      </div>
      <!-- Question 21 -->
      <div id="q21" class="q-box" data-num="21">
        <div class="q-header">To what extent is the company's critical data secured?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q21">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Data Classification and Labeling</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q21">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Data Loss Prevention (DLP)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q21">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Encryption (at rest, in transit, and in use)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q21">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Tokenization and Masking</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q21">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Data Access Governance</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q21">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Data Discovery and Mapping</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q21">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Data Residency and Sovereignty Controls</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q21">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Secure Data Disposal</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q21">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Privacy Impact Assessments (PIAs)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q21">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">User Activity Monitoring on Sensitive Data</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(21)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(21)">NEXT →</button>
        </div>
      </div>
      <!-- Question 22 -->
      <div id="q22" class="q-box" data-num="22">
        <div class="q-header">To what extent do you have visibility and remediation steps on external risk?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q22">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Vendor Risk Assessments</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q22">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Continuous Attack Surface Monitoring</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q22">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Vulnerability Management + Exposure Validation</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q22">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Risk Management</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q22">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Dark Web Scanning for Sensitive Information</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q22">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Threat Intelligence</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q22">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Digital Brand and Risk Protection + Phishing / Social Media</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q22">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Third-Party Access Controls</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q22">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Continuous Monitoring of Vendors</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q22">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Onboarding/Offboarding Procedures</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(22)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(22)">NEXT →</button>
        </div>
      </div>
      <!-- Question 23 -->
      <div id="q23" class="q-box" data-num="23">
        <div class="q-header">How do you ensure identities are trusted and ensure only access to what is needed to fulfill your role in the company?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q23">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Multi-Factor Authentication (MFA)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q23">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Single Sign-On (SSO)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q23">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Privileged Access Management (PAM)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q23">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Role-Based Access Control (RBAC)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q23">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Just-In-Time (JIT) Access</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q23">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Identity Federation and Federation Protocols (SAML, OIDC)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q23">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">User Lifecycle Management</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q23">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Access Reviews and Recertification</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q23">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Password Policy Enforcement</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q23">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Behavioral Biometrics / Risk-Based Authentication</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(23)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(23)">NEXT →</button>
        </div>
      </div>
      <!-- Question 24 -->
      <div id="q24" class="q-box" data-num="24">
        <div class="q-header">To what extent does your company monitor security events and use threat intelligence?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q24">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Security Information and Event Management (SIEM)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q24">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Security Orchestration, Automation and Response (SOAR)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q24">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Threat Intelligence Integration</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q24">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">User and Entity Behavior Analytics (UEBA)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q24">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Log Aggregation and Retention</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q24">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Anomaly Detection</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q24">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Deception Technologies</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q24">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Threat Hunting Capabilities</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q24">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Real-time Alerting and Correlation</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q24">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">MITRE ATT&CK Mapping</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(24)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(24)">NEXT →</button>
        </div>
      </div>
      <!-- Question 25 -->
      <div id="q25" class="q-box" data-num="25">
        <div class="q-header">To what extent do you have incident response and recovery?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q25">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Incident Response Plan (IRP)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q25">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Tabletop Exercises and Simulations</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q25">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Forensics and Evidence Collection Tools</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q25">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Crisis Communication Plan</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q25">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Automated Virtual Patching</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q25">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Business Continuity Plan (BCP)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q25">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Disaster Recovery Plan (DRP)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q25">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Playbooks for Common Scenarios</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q25">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Post-Incident Review Process</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q25">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Ransomware Response Protocols</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(25)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(25)">NEXT →</button>
        </div>
      </div>
      <!-- Question 26 -->
      <div id="q26" class="q-box" data-num="26">
        <div class="q-header">Operational security projects?</div>
        <div class="sub">Choose all that apply</div>
        <div class="answer-wrap">
          <label class="answer">
            <input type="checkbox" name="q26">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Business Impact Analyses</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q26">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Risk Assessments</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q26">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Vulnerability Assessments</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q26">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Penetration Testing</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q26">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Continuous Threat and Exposure Management</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q26">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Unified Management</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q26">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">AI Assisted Security Tools + Management + Detect + Respond</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q26">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Open Garden Platform</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q26">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Security Operations Center (SOC)</div>
            </div>
          </label>
          <label class="answer">
            <input type="checkbox" name="q26">
            <div class="checkbox"></div>
            <div class="inner-wrap">
              <div class="text">Shared Indicators of Compromise</div>
            </div>
          </label>
        </div>
        <div class="btn-box-wrap">
          <button class="button prev" onclick="prevQuestion(26)">← PREVIOUS</button>
          <button class="button next" onclick="nextQuestion(26)">SUBMIT →</button>
        </div>
      </div>
      <!-- Calculating page -->
      <div id="final" class="q-box last-box" style="display:none;">
        <div class="title">Calculating your score</div>
        <div class="text">PROGRESS</div>
        <div class="progress-border">
          <div id="progress-bar"></div>
        </div>
      </div>
      <!-- Results page -->
      <div id="results" class="q-box" style="display:none;">
        <div class="results-summary">
          <div class="q-header">Your Cyber Security Maturity Results</div>
          <div class="overall-score" id="overall-score">0%</div>
          <div class="maturity-level" id="maturity-level">Calculating...</div>
        </div>
       
        <div class="auto-email-notice" id="autoEmailNotice">
          📧 A copy of your assessment results has been sent to our security consultants for review.
        </div>
       
        <h3 style="margin: 2rem 0 1rem;">Detailed Assessment Results</h3>
        <div style="overflow-x: auto;">
          <table class="pillars-table" id="pillars-table">
            <thead>
              <tr>
                <th>Security Pillar</th>
                <th>Your Score</th>
                <th>Maximum Score</th>
                <th>Maturity %</th>
                <th>Progress</th>
              </tr>
            </thead>
            <tbody id="pillars-body">
              <!-- Will be populated by JavaScript -->
            </tbody>
          </table>
        </div>
       
        <div class="recommendations">
          <h2 style="text-align:center; margin-bottom:2rem;" id="recommendations-header">Recommendations</h2>
          <div id="no-recommendations" class="no-recommendations" style="display:none;">
            <h3>🎉 Excellent Security Posture!</h3>
            <p>Congratulations! Your organization has achieved 100% maturity across all security pillars.</p>
            <p>Continue with regular security assessments and stay updated with emerging threats.</p>
          </div>
          <div class="recommendations-grid" id="recommendations-grid">
            <!-- Will be populated by JavaScript -->
          </div>
        </div>
       
        <!-- Email Form -->
        <div class="email-form">
          <h3>📧 Get Your Report Emailed to You</h3>
          <p>Enter your email address to receive a copy of your security maturity report:</p>
          <input type="email" id="clientEmail" placeholder="your.email@company.com" required>
          <div class="email-success" id="emailSuccess">
            ✅ Your report has been sent to your email address!
          </div>
          <div class="email-error" id="emailError">
            ❌ There was an error sending your report. Please try again.
          </div>
        </div>
       
        <div class="download-section">
          <div class="btn-box-wrap email-buttons">
            <button class="button" onclick="retakeAssessment()">Retake Assessment</button>
            <button class="pdf-button" id="pdfBtn" onclick="generatePDF()">Download PDF Report</button>
            <button class="email-button" onclick="sendReportToClient()">Send Me The Report</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    // Email configuration
    const EMAIL_CONFIG = {
      nadineEmail: 'nadine@cyberly.co.za'
    };
    // Scoring configuration
    const scoringConfig = {
      q1: {
        maxScore: 50,
        pillar: 'Network Security',
        answers: {
          'Next-Generation Firewall (NGFW)': 5,
          'Intrusion Detection/Prevention Systems (IDS/IPS)': 5,
          'Network Segmentation and Microsegmentation': 5,
          'Network Access Control (NAC)': 5,
          'DNS and Content Filtering': 5,
          'User Entity Behavioural Analysis': 5,
          'Deception Technologies (e.g., honeypots)': 5,
          'SASE Secure Remote Access': 5,
          'VPN Secure Remote Access': 5,
          'Network Traffic Analysis (NTA)': 5
        }
      },
      q2: {
        maxScore: 10,
        pillar: 'Network Security',
        answers: {
          'We use a fully scalable, elastic security solution that dynamically adds capacity (e.g., cloud-like auto-scaling firewalls or security fabric)': 10,
          'We use clustering or load balancing across multiple fixed security appliances from a single vendor': 6,
          'We manually purchase and deploy additional firewalls/appliances when capacity is reached': 3,
          'We do not have a scalable approach — capacity is fixed and often becomes a bottleneck': 0
        }
      },
      q3: {
        maxScore: 5,
        pillar: 'Network Security',
        answers: {
          'Active-active firewalls are deployed from a single vendor': 5,
          'Active-passive firewalls are deployed in highly available clusters': 2,
          'Firewalls with load balancers from another vendor are deployed': 2,
          'Not sure': 0
        }
      },
      q4: {
        maxScore: 25,
        pillar: 'Network Security',
        answers: {
          'Software-defined Networking': 5,
          'Agile and automated policy': 5,
          'Business logic policy': 5,
          'Service chaining using NSX/Cisco/ACI/OpenStack': 5,
          'Dedicated policy layers': 5,
          'Not sure': 0
        }
      },
      q5: {
        maxScore: 40,
        pillar: 'Network Security',
        answers: {
          'Sandboxing': 5,
          'Next Generation Web Application Firewall': 5,
          'Cloud-native vulnerability scanning': 5,
          'Real-time threat intelligence to prevent zero-day attacks': 5,
          'Kubernetes runtime security': 5,
          'Anti-malware': 5,
          'File sanitization (CDR)': 5,
          'Malware DNA': 5,
          'Not sure': 0
        }
      },
      q6: {
        maxScore: 20,
        pillar: 'Workspace Security',
        answers: {
          'Posture management': 5,
          'Threat prevention': 5,
          'Vulnerability scanning': 5,
          'Least privileged access': 5,
          'Not using cloud for workloads': 0,
          'Not sure': 0
        }
      },
      q7: {
        maxScore: 15,
        pillar: 'Workspace Security',
        answers: {
          'Fully unified': 15,
          'Managed through separate tools': 5,
          'Not sure': 0
        }
      },
      q8: {
        maxScore: 12,
        pillar: 'Workspace Security',
        answers: {
          'Up to 10%': 12,
          '11%–50%': 8,
          '51%–80%': 4,
          'Over 80%': 1
        }
      },
      q9: {
        maxScore: 15,
        pillar: 'Workspace Security',
        answers: {
          'We do not allow any remote access': 15,
          'Employees with company managed laptops and/or mobile devices only': 10,
          'From personal mobile devices': 4,
          'From personal laptops': 4,
          'By third parties (contractors, consultants or partners)': 3
        }
      },
      q10: {
        maxScore: 20,
        pillar: 'Workspace Security',
        answers: {
          'SASE connection (cloud-based service)': 5,
          'Device risk posture check': 5,
          'Multi-factor authentication': 5,
          'VPN connection': 5
        }
      },
      q11: {
        maxScore: 30,
        pillar: 'Workspace Security',
        answers: {
          'Sanitize potentially malicious downloads': 5,
          'Real-time scanning of online forms for phishing prevention': 5,
          'Stop entering corporate credentials to non-business websites': 5,
          'Restrict access to certain websites (e.g. block access to adult and gambling sites)': 5,
          'Scan for data leakage': 5,
          'Prevent access to URLs known as malicious': 5
        }
      },
      q12: {
        maxScore: 25,
        pillar: 'Workspace Security',
        answers: {
          'Disk encryption on endpoint devices': 5,
          'Scan files for sensitive content before uploaded to external websites/messaging apps': 5,
          'Scan content that\'s uploaded in the browser': 5,
          'Scan email and office applications for sensitive content before it is shared externally': 5,
          'Permit safe use of Generative AI tools': 5,
          'I don\'t know': 0
        }
      },
      q13: {
        maxScore: 12,
        pillar: 'Workspace Security',
        answers: {
          'Office 365 + Google apps + Teams/SharePoint/OneDrive': 12,
          'Gmail + Google Workspace': 10,
          'Mixed modern SaaS (Office 365/Google + Zoom/Slack/Dropbox)': 8,
          'On-premises email (Microsoft Exchange) only': 5,
          'Other apps only (Zoom/Slack/Dropbox etc.)': 6
        }
      },
      q14: {
        maxScore: 24,
        pillar: 'Workspace Security',
        answers: {
          'Recover ransomware-encrypted files': 10,
          'Automatically detect and stop the attack': 7,
          'Quarantine the infected endpoint': 7,
          'None of the above': 0
        }
      },
      q15: {
        maxScore: 45,
        pillar: 'Workspace Security',
        answers: {
          'Endpoint Detection and Response / Extended Detection and Response / Managed Detection and Response (EDR/XDR/MDR)': 6,
          'Next-Generation Antivirus / Endpoint Protection Platform (NGAV/EPP)': 5,
          'Cloud-based security services (SASE)': 6,
          'Email security': 5,
          'Secure web gateway': 5,
          'Mobile threat defence': 5,
          'Endpoint and mobile vulnerability management': 5,
          'Cloud-based application posture check': 4,
          'Collaboration apps security': 4
        }
      },
      q16: {
        maxScore: 20,
        pillar: 'Workspace Security',
        answers: {
          '1–3 vendors': 20,
          '4–6 vendors': 12,
          '7–9 vendors': 6,
          '10+ vendors': 2
        }
      },
      q17: {
        maxScore: 50,
        pillar: 'Workspace Security',
        answers: {
          'Endpoint Detection and Response (EDR)': 5,
          'Antivirus / Anti-malware': 5,
          'Full Disk Encryption + Removable Device Encryption': 5,
          'Application Control': 5,
          'Posture Management (vulnerability) with Patch Management': 5,
          'USB / Peripheral Control': 5,
          'Browser Security with Content Filtering and Data Loss Prevention': 5,
          'Mobile Device Management (MDM) + Mobile Device Security': 5,
          'Local Firewall and Host-based Intrusion Detection System': 5,
          'Device Policy Configuration and Control': 5
        }
      },
      q18: {
        maxScore: 50,
        pillar: 'Cloud Security',
        answers: {
          'Cloud Security Posture Management (CSPM)': 5,
          'Cloud Workload Protection Platform (CWPP)': 5,
          'Cloud Infrastructure Entitlement Management (CIEM)': 5,
          'Encryption of Data at Rest and in Transit': 5,
          'Network Segmentation': 5,
          'Cloud Firewall': 5,
          'Cloud Web Application Firewall': 5,
          'Container Security + Serverless (e.g., image scanning, runtime protection)': 5,
          'Cloud-Native Application Protection Platform (CNAPP)': 5,
          'Cloud Access Security Broker (CASB)': 5
        }
      },
      q19: {
        maxScore: 50,
        pillar: 'Application Security',
        answers: {
          'Web Application Firewall (WAF)': 5,
          'Static and Dynamic Application Security Testing (SAST/DAST)': 5,
          'Software Composition Analysis (SCA)': 5,
          'Secure Software Development Life Cycle Practices': 5,
          'API Security': 5,
          'Large Language Model Security': 5,
          'Code Signing and Integrity Checks': 5,
          'DevSecOps Integration': 5,
          'Penetration Testing': 5,
          'OWASP Top 10 Mitigation': 5
        }
      },
      q20: {
        maxScore: 50,
        pillar: 'Email and Collaboration Security',
        answers: {
          'Email Security in place': 5,
          'Phishing Protection and Simulation': 5,
          'Attachment Sandboxing + Encrypted Attachments': 5,
          'URL Rewriting and Click Protection': 5,
          'DMARC, DKIM, SPF Enforcement': 5,
          'Data Leakage Prevention (DLP) for Email and Collaboration': 5,
          'Email Encryption': 5,
          'Collaboration Tool Monitoring (e.g., Teams, Slack)': 5,
          'Impersonation and Spoofing Detection': 5,
          'User Awareness Training': 5
        }
      },
      q21: {
        maxScore: 46,
        pillar: 'Data Security',
        answers: {
          'Data Classification and Labeling': 5,
          'Data Loss Prevention (DLP)': 5,
          'Encryption (at rest, in transit, and in use)': 5,
          'Tokenization and Masking': 5,
          'Data Access Governance': 1,
          'Data Discovery and Mapping': 5,
          'Data Residency and Sovereignty Controls': 5,
          'Secure Data Disposal': 5,
          'Privacy Impact Assessments (PIAs)': 5,
          'User Activity Monitoring on Sensitive Data': 5
        }
      },
      q22: {
        maxScore: 50,
        pillar: 'External Risk Management',
        answers: {
          'Vendor Risk Assessments': 5,
          'Continuous Attack Surface Monitoring': 5,
          'Vulnerability Management + Exposure Validation': 5,
          'Risk Management': 5,
          'Dark Web Scanning for Sensitive Information': 5,
          'Threat Intelligence': 5,
          'Digital Brand and Risk Protection + Phishing / Social Media': 5,
          'Third-Party Access Controls': 5,
          'Continuous Monitoring of Vendors': 5,
          'Onboarding/Offboarding Procedures': 5
        }
      },
      q23: {
        maxScore: 50,
        pillar: 'Identity and Access Management',
        answers: {
          'Multi-Factor Authentication (MFA)': 5,
          'Single Sign-On (SSO)': 5,
          'Privileged Access Management (PAM)': 5,
          'Role-Based Access Control (RBAC)': 5,
          'Just-In-Time (JIT) Access': 5,
          'Identity Federation and Federation Protocols (SAML, OIDC)': 5,
          'User Lifecycle Management': 5,
          'Access Reviews and Recertification': 5,
          'Password Policy Enforcement': 5,
          'Behavioral Biometrics / Risk-Based Authentication': 5
        }
      },
      q24: {
        maxScore: 50,
        pillar: 'Security Monitoring & Threat Intelligence',
        answers: {
          'Security Information and Event Management (SIEM)': 5,
          'Security Orchestration, Automation and Response (SOAR)': 5,
          'Threat Intelligence Integration': 5,
          'User and Entity Behavior Analytics (UEBA)': 5,
          'Log Aggregation and Retention': 5,
          'Anomaly Detection': 5,
          'Deception Technologies': 5,
          'Threat Hunting Capabilities': 5,
          'Real-time Alerting and Correlation': 5,
          'MITRE ATT&CK Mapping': 5
        }
      },
      q25: {
        maxScore: 50,
        pillar: 'Incident Response & Recovery',
        answers: {
          'Incident Response Plan (IRP)': 5,
          'Tabletop Exercises and Simulations': 5,
          'Forensics and Evidence Collection Tools': 5,
          'Crisis Communication Plan': 5,
          'Automated Virtual Patching': 5,
          'Business Continuity Plan (BCP)': 5,
          'Disaster Recovery Plan (DRP)': 5,
          'Playbooks for Common Scenarios': 5,
          'Post-Incident Review Process': 5,
          'Ransomware Response Protocols': 5
        }
      },
      q26: {
        maxScore: 50,
        pillar: 'Security Operations',
        answers: {
          'Business Impact Analyses': 5,
          'Risk Assessments': 5,
          'Vulnerability Assessments': 5,
          'Penetration Testing': 5,
          'Continuous Threat and Exposure Management': 5,
          'Unified Management': 5,
          'AI Assisted Security Tools + Management + Detect + Respond': 5,
          'Open Garden Platform': 5,
          'Security Operations Center (SOC)': 5,
          'Shared Indicators of Compromise': 5
        }
      }
    };
    // Pillar mapping
    const pillarMapping = {
      'Network Security': ['q1', 'q2', 'q3', 'q4', 'q5'],
      'Workspace Security': ['q6', 'q7', 'q8', 'q9', 'q10', 'q11', 'q12', 'q13', 'q14', 'q15', 'q16', 'q17'],
      'Cloud Security': ['q18'],
      'Application Security': ['q19'],
      'Email and Collaboration Security': ['q20'],
      'Data Security': ['q21'],
      'External Risk Management': ['q22'],
      'Identity and Access Management': ['q23'],
      'Security Monitoring & Threat Intelligence': ['q24'],
      'Incident Response & Recovery': ['q25'],
      'Security Operations': ['q26']
    };
    // Comprehensive recommendations for each pillar based on maturity percentage
    const pillarRecommendations = {
      'Network Security': [
        { text: 'Implement Next-Generation Firewall (NGFW) with threat prevention capabilities', priority: 'critical', threshold: 20 },
        { text: 'Deploy Intrusion Prevention Systems (IPS) for real-time threat detection', priority: 'critical', threshold: 30 },
        { text: 'Implement network segmentation to limit lateral movement of threats', priority: 'high', threshold: 40 },
        { text: 'Deploy Network Access Control (NAC) for device authentication', priority: 'high', threshold: 50 },
        { text: 'Implement DNS and web content filtering to block malicious domains', priority: 'medium', threshold: 60 },
        { text: 'Deploy User Entity Behavior Analytics (UEBA) for anomaly detection', priority: 'medium', threshold: 70 },
        { text: 'Implement deception technologies (honeypots) for early threat detection', priority: 'low', threshold: 80 },
        { text: 'Upgrade to SASE (Secure Access Service Edge) for secure remote access', priority: 'low', threshold: 90 },
        { text: 'Implement Network Traffic Analysis (NTA) for advanced monitoring', priority: 'low', threshold: 95 }
      ],
      'Workspace Security': [
        { text: 'Deploy Endpoint Detection and Response (EDR) solution', priority: 'critical', threshold: 25 },
        { text: 'Implement Next-Generation Antivirus (NGAV) on all endpoints', priority: 'critical', threshold: 30 },
        { text: 'Enable full disk encryption on all company devices', priority: 'high', threshold: 40 },
        { text: 'Implement application control policies to restrict unauthorized software', priority: 'high', threshold: 50 },
        { text: 'Deploy comprehensive vulnerability management with automated patching', priority: 'medium', threshold: 60 },
        { text: 'Implement USB and peripheral device control policies', priority: 'medium', threshold: 70 },
        { text: 'Deploy browser security with content filtering and DLP', priority: 'low', threshold: 80 },
        { text: 'Implement Mobile Device Management (MDM) for company mobile devices', priority: 'low', threshold: 90 },
        { text: 'Establish local firewall and host-based IDS on all endpoints', priority: 'low', threshold: 95 }
      ],
      'Cloud Security': [
        { text: 'Implement Cloud Security Posture Management (CSPM) to identify misconfigurations', priority: 'critical', threshold: 20 },
        { text: 'Deploy Cloud Workload Protection Platform (CWPP) for workload security', priority: 'critical', threshold: 30 },
        { text: 'Implement Cloud Infrastructure Entitlement Management (CIEM) for access governance', priority: 'high', threshold: 40 },
        { text: 'Enable encryption for all data at rest and in transit in cloud', priority: 'high', threshold: 50 },
        { text: 'Implement network segmentation in cloud environments', priority: 'medium', threshold: 60 },
        { text: 'Deploy cloud-native firewall and web application firewall', priority: 'medium', threshold: 70 },
        { text: 'Implement container security with image scanning and runtime protection', priority: 'low', threshold: 80 },
        { text: 'Adopt Cloud-Native Application Protection Platform (CNAPP)', priority: 'low', threshold: 90 },
        { text: 'Implement Cloud Access Security Broker (CASB) for SaaS applications', priority: 'low', threshold: 95 }
      ],
      'Application Security': [
        { text: 'Implement Web Application Firewall (WAF) to protect web applications', priority: 'critical', threshold: 20 },
        { text: 'Conduct Static and Dynamic Application Security Testing (SAST/DAST)', priority: 'critical', threshold: 30 },
        { text: 'Implement Software Composition Analysis (SCA) for third-party libraries', priority: 'high', threshold: 40 },
        { text: 'Establish Secure Software Development Life Cycle (SDLC) practices', priority: 'high', threshold: 50 },
        { text: 'Implement API security controls and testing', priority: 'medium', threshold: 60 },
        { text: 'Develop Large Language Model (LLM) security guidelines', priority: 'medium', threshold: 70 },
        { text: 'Implement code signing and integrity checks', priority: 'low', threshold: 80 },
        { text: 'Integrate security into DevOps (DevSecOps)', priority: 'low', threshold: 90 },
        { text: 'Regular penetration testing and OWASP Top 10 mitigation', priority: 'low', threshold: 95 }
      ],
      'Email and Collaboration Security': [
        { text: 'Implement advanced email security with anti-phishing capabilities', priority: 'critical', threshold: 20 },
        { text: 'Conduct regular phishing simulation and user awareness training', priority: 'critical', threshold: 30 },
        { text: 'Deploy attachment sandboxing and encrypted attachments handling', priority: 'high', threshold: 40 },
        { text: 'Implement URL rewriting and click protection for email links', priority: 'high', threshold: 50 },
        { text: 'Configure DMARC, DKIM, and SPF for email authentication', priority: 'medium', threshold: 60 },
        { text: 'Implement Data Loss Prevention (DLP) for email and collaboration tools', priority: 'medium', threshold: 70 },
        { text: 'Enable email encryption for sensitive communications', priority: 'low', threshold: 80 },
        { text: 'Monitor collaboration tools (Teams, Slack) for security risks', priority: 'low', threshold: 90 },
        { text: 'Implement impersonation and spoofing detection mechanisms', priority: 'low', threshold: 95 }
      ],
      'Data Security': [
        { text: 'Implement data classification and labeling framework', priority: 'critical', threshold: 20 },
        { text: 'Deploy Data Loss Prevention (DLP) solutions', priority: 'critical', threshold: 30 },
        { text: 'Implement encryption for data at rest, in transit, and in use', priority: 'high', threshold: 40 },
        { text: 'Apply tokenization and masking for sensitive data', priority: 'high', threshold: 50 },
        { text: 'Establish data access governance policies', priority: 'medium', threshold: 60 },
        { text: 'Implement data discovery and mapping tools', priority: 'medium', threshold: 70 },
        { text: 'Establish data residency and sovereignty controls', priority: 'low', threshold: 80 },
        { text: 'Implement secure data disposal procedures', priority: 'low', threshold: 90 },
        { text: 'Conduct Privacy Impact Assessments (PIAs) for new projects', priority: 'low', threshold: 95 }
      ],
      'External Risk Management': [
        { text: 'Implement vendor risk assessment program', priority: 'critical', threshold: 20 },
        { text: 'Deploy continuous attack surface monitoring', priority: 'critical', threshold: 30 },
        { text: 'Establish vulnerability management program with exposure validation', priority: 'high', threshold: 40 },
        { text: 'Implement formal risk management framework', priority: 'high', threshold: 50 },
        { text: 'Monitor dark web for exposed sensitive information', priority: 'medium', threshold: 60 },
        { text: 'Subscribe to threat intelligence feeds', priority: 'medium', threshold: 70 },
        { text: 'Implement digital brand and phishing protection', priority: 'low', threshold: 80 },
        { text: 'Establish third-party access controls and monitoring', priority: 'low', threshold: 90 },
        { text: 'Develop comprehensive onboarding/offboarding procedures', priority: 'low', threshold: 95 }
      ],
      'Identity and Access Management': [
        { text: 'Implement Multi-Factor Authentication (MFA) for all users', priority: 'critical', threshold: 20 },
        { text: 'Deploy Single Sign-On (SSO) for centralized authentication', priority: 'critical', threshold: 30 },
        { text: 'Implement Privileged Access Management (PAM) solution', priority: 'high', threshold: 40 },
        { text: 'Establish Role-Based Access Control (RBAC) framework', priority: 'high', threshold: 50 },
        { text: 'Implement Just-In-Time (JIT) access provisioning', priority: 'medium', threshold: 60 },
        { text: 'Set up identity federation with SAML/OIDC', priority: 'medium', threshold: 70 },
        { text: 'Automate user lifecycle management processes', priority: 'low', threshold: 80 },
        { text: 'Implement regular access reviews and recertification', priority: 'low', threshold: 90 },
        { text: 'Deploy behavioral biometrics for risk-based authentication', priority: 'low', threshold: 95 }
      ],
      'Security Monitoring & Threat Intelligence': [
        { text: 'Implement Security Information and Event Management (SIEM)', priority: 'critical', threshold: 20 },
        { text: 'Deploy Security Orchestration, Automation and Response (SOAR)', priority: 'critical', threshold: 30 },
        { text: 'Integrate threat intelligence feeds into security tools', priority: 'high', threshold: 40 },
        { text: 'Implement User and Entity Behavior Analytics (UEBA)', priority: 'high', threshold: 50 },
        { text: 'Establish log aggregation and retention policies', priority: 'medium', threshold: 60 },
        { text: 'Deploy anomaly detection systems', priority: 'medium', threshold: 70 },
        { text: 'Implement deception technologies for threat detection', priority: 'low', threshold: 80 },
        { text: 'Establish threat hunting capabilities', priority: 'low', threshold: 90 },
        { text: 'Map security events to MITRE ATT&CK framework', priority: 'low', threshold: 95 }
      ],
      'Incident Response & Recovery': [
        { text: 'Develop Incident Response Plan (IRP) with clear procedures', priority: 'critical', threshold: 20 },
        { text: 'Conduct regular tabletop exercises and simulations', priority: 'critical', threshold: 30 },
        { text: 'Implement forensics and evidence collection capabilities', priority: 'high', threshold: 40 },
        { text: 'Develop crisis communication plan', priority: 'high', threshold: 50 },
        { text: 'Implement automated virtual patching capabilities', priority: 'medium', threshold: 60 },
        { text: 'Develop Business Continuity Plan (BCP)', priority: 'medium', threshold: 70 },
        { text: 'Establish Disaster Recovery Plan (DRP) with RTO/RPO', priority: 'low', threshold: 80 },
        { text: 'Create playbooks for common incident scenarios', priority: 'low', threshold: 90 },
        { text: 'Implement post-incident review process', priority: 'low', threshold: 95 }
      ],
      'Security Operations': [
        { text: 'Conduct Business Impact Analysis (BIA) for critical systems', priority: 'critical', threshold: 20 },
        { text: 'Implement regular risk assessment processes', priority: 'critical', threshold: 30 },
        { text: 'Establish vulnerability assessment program', priority: 'high', threshold: 40 },
        { text: 'Conduct regular penetration testing', priority: 'high', threshold: 50 },
        { text: 'Implement continuous threat and exposure management', priority: 'medium', threshold: 60 },
        { text: 'Deploy unified security management platform', priority: 'medium', threshold: 70 },
        { text: 'Implement AI-assisted security tools for detection and response', priority: 'low', threshold: 80 },
        { text: 'Consider open security platform integration', priority: 'low', threshold: 90 },
        { text: 'Establish or enhance Security Operations Center (SOC)', priority: 'low', threshold: 95 }
      ]
    };
    let currentQuestion = 0;
    const totalQuestions = 26;
    let answers = {};
    let overallScore = 0;
    let pillarScores = {};
    let generatedPDF = null;
    function startAssessment() {
      document.getElementById('home').style.display = 'none';
      document.getElementById('assessment').style.display = 'flex';
      currentQuestion = 1;
      document.getElementById('q1').classList.add('active');
      updateUI();
    }
    function retakeAssessment() {
      // Reset all answers
      answers = {};
     
      // Uncheck all inputs
      document.querySelectorAll('input[type="checkbox"], input[type="radio"]').forEach(input => {
        input.checked = false;
        input.closest('.answer')?.classList.remove('selected');
      });
     
      // Hide results and show first question
      document.getElementById('results').style.display = 'none';
      document.getElementById('q1').classList.add('active');
     
      // Reset progress
      currentQuestion = 1;
      document.querySelectorAll('.q-box').forEach(box => {
        if (box.id !== 'q1') box.classList.remove('active');
      });
     
      updateUI();
    }
    function updateUI() {
      const isQuestion = currentQuestion >= 1 && currentQuestion <= totalQuestions;
      document.getElementById('question-bg').classList.toggle('active', isQuestion);
      document.getElementById('white-bg').classList.toggle('active', !isQuestion);
      const progress = isQuestion ? (currentQuestion / totalQuestions) * 100 : 0;
      document.getElementById('question-progress-bar').style.width = progress + '%';
    }
    function nextQuestion(q) {
      const box = document.getElementById(`q${q}`);
      const checked = box.querySelectorAll('input:checked');
      if (checked.length === 0) {
        alert("Please select at least one answer before continuing.");
        return;
      }
      let selected = [];
      checked.forEach(ch => selected.push(ch.closest('.answer').querySelector('.text').textContent.trim()));
      answers[`q${q}`] = selected;
      box.classList.remove('active');
      currentQuestion = q + 1;
      if (currentQuestion <= totalQuestions) {
        document.getElementById(`q${currentQuestion}`).classList.add('active');
      } else {
        document.getElementById('final').style.display = 'block';
        setTimeout(() => document.getElementById('progress-bar').style.width = '100%', 100);
        setTimeout(showResultsPage, 3000);
      }
      updateUI();
    }
    function prevQuestion(q) {
      if (q <= 1) return;
      document.getElementById(`q${q}`).classList.remove('active');
      currentQuestion = q - 1;
      document.getElementById(`q${currentQuestion}`).classList.add('active');
      updateUI();
    }
    function showResultsPage() {
      document.getElementById('final').style.display = 'none';
      document.getElementById('results').style.display = 'block';
      updateUI();
      // Calculate scores for each pillar
      pillarScores = calculatePillarScores();
     
      // Calculate overall score
      overallScore = calculateOverallScore(pillarScores);
     
      // Display overall score
      document.getElementById('overall-score').textContent = `${overallScore}%`;
      document.getElementById('maturity-level').textContent = getMaturityLevel(overallScore);
     
      // Display pillar scores in table
      displayPillarScores(pillarScores);
     
      // Generate recommendations
      generateRecommendations(pillarScores, overallScore);
    }
    function calculatePillarScores() {
      const pillarScores = {};
     
      // Initialize all pillars
      Object.keys(pillarMapping).forEach(pillar => {
        pillarScores[pillar] = {
          score: 0,
          maxScore: 0,
          percentage: 0
        };
      });
     
      // Calculate scores for each question
      for (let i = 1; i <= totalQuestions; i++) {
        const questionKey = `q${i}`;
        const selectedAnswers = answers[questionKey] || [];
        const config = scoringConfig[questionKey];
       
        if (!config) continue;
       
        const pillar = config.pillar;
       
        // Calculate score for this question
        let questionScore = 0;
        selectedAnswers.forEach(answerText => {
          if (config.answers[answerText] !== undefined) {
            questionScore += config.answers[answerText];
          }
        });
       
        // For radio questions, ensure we don't exceed max
        if (document.querySelector(`input[name="${questionKey}"][type="radio"]`)) {
          questionScore = Math.min(questionScore, config.maxScore);
        }
       
        // Update pillar scores
        pillarScores[pillar].score += questionScore;
        pillarScores[pillar].maxScore += config.maxScore;
      }
     
      // Calculate percentages
      Object.keys(pillarScores).forEach(pillar => {
        const pillarData = pillarScores[pillar];
        pillarData.percentage = pillarData.maxScore > 0
          ? Math.round((pillarData.score / pillarData.maxScore) * 100)
          : 0;
      });
     
      return pillarScores;
    }
    function calculateOverallScore(pillarScores) {
      let totalScore = 0;
      let totalMaxScore = 0;
     
      Object.keys(pillarScores).forEach(pillar => {
        totalScore += pillarScores[pillar].score;
        totalMaxScore += pillarScores[pillar].maxScore;
      });
     
      return totalMaxScore > 0 ? Math.round((totalScore / totalMaxScore) * 100) : 0;
    }
    function getMaturityLevel(percentage) {
      if (percentage >= 90) return 'Advanced Maturity';
      if (percentage >= 75) return 'Established Maturity';
      if (percentage >= 60) return 'Developing Maturity';
      if (percentage >= 40) return 'Initial Maturity';
      return 'Limited Maturity';
    }
    function displayPillarScores(pillarScores) {
      const tableBody = document.getElementById('pillars-body');
      tableBody.innerHTML = '';
     
      Object.keys(pillarScores).forEach(pillar => {
        const data = pillarScores[pillar];
        const row = document.createElement('tr');
       
        row.innerHTML = `
          <td class="pillar-name">${pillar}</td>
          <td class="score-cell">${data.score}</td>
          <td class="score-cell">${data.maxScore}</td>
          <td class="score-cell"><strong>${data.percentage}%</strong></td>
          <td>
            <div class="score-bar-container">
              <div class="score-bar" style="width: ${data.percentage}%; background: ${getScoreColor(data.percentage)};"></div>
            </div>
          </td>
        `;
       
        tableBody.appendChild(row);
      });
    }
    function getScoreColor(percentage) {
      if (percentage >= 80) return '#2E7D32'; // Green
      if (percentage >= 60) return '#FF9800'; // Orange
      return '#D32F2F'; // Red
    }
    function generateRecommendations(pillarScores, overallScore) {
      const recommendationsGrid = document.getElementById('recommendations-grid');
      const noRecommendationsDiv = document.getElementById('no-recommendations');
      const recommendationsHeader = document.getElementById('recommendations-header');
     
      // Clear previous recommendations
      recommendationsGrid.innerHTML = '';
     
      // Check if overall score is 100%
      if (overallScore === 100) {
        recommendationsHeader.style.display = 'none';
        recommendationsGrid.style.display = 'none';
        noRecommendationsDiv.style.display = 'block';
        return;
      }
     
      recommendationsHeader.style.display = 'block';
      recommendationsGrid.style.display = 'grid';
      noRecommendationsDiv.style.display = 'none';
     
      // Sort pillars by percentage (lowest first)
      const sortedPillars = Object.keys(pillarScores)
        .map(pillar => ({
          name: pillar,
          percentage: pillarScores[pillar].percentage
        }))
        .sort((a, b) => a.percentage - b.percentage);
     
      // Calculate how many pillars to show recommendations for
      // Lower overall score = more pillars to show
      let pillarsToShow = 3; // Default
     
      if (overallScore < 30) {
        pillarsToShow = sortedPillars.length; // Show all pillars
      } else if (overallScore < 50) {
        pillarsToShow = Math.min(8, sortedPillars.length);
      } else if (overallScore < 70) {
        pillarsToShow = Math.min(6, sortedPillars.length);
      } else if (overallScore < 85) {
        pillarsToShow = Math.min(4, sortedPillars.length);
      }
     
      // Get pillars that need improvement (below 80%)
      const pillarsNeedingImprovement = sortedPillars.filter(pillar => pillar.percentage < 80);
     
      // Show recommendations for pillars needing improvement, up to the calculated limit
      const pillarsForRecommendations = pillarsNeedingImprovement.slice(0, pillarsToShow);
     
      pillarsForRecommendations.forEach(pillar => {
        const percentage = pillar.percentage;
        const pillarRecs = pillarRecommendations[pillar.name];
       
        if (pillarRecs) {
          // Filter recommendations based on pillar percentage
          const applicableRecs = pillarRecs.filter(rec => percentage < rec.threshold);
         
          // Calculate how many recommendations to show (more for lower scores)
          let recsToShow = 3; // Default
         
          if (percentage < 30) {
            recsToShow = Math.min(6, applicableRecs.length);
          } else if (percentage < 50) {
            recsToShow = Math.min(5, applicableRecs.length);
          } else if (percentage < 70) {
            recsToShow = Math.min(4, applicableRecs.length);
          } else {
            recsToShow = Math.min(3, applicableRecs.length);
          }
         
          const displayedRecs = applicableRecs.slice(0, recsToShow);
         
          if (displayedRecs.length > 0) {
            const card = document.createElement('div');
            card.className = 'recommendation-card';
           
            // Sort recommendations by priority
            const priorityOrder = { critical: 1, high: 2, medium: 3, low: 4 };
            displayedRecs.sort((a, b) => priorityOrder[a.priority] - priorityOrder[b.priority]);
           
            let recommendationsHTML = `<h4>${pillar.name} <span class="priority-badge priority-${displayedRecs[0].priority}">Priority: ${displayedRecs[0].priority.toUpperCase()}</span></h4>`;
            recommendationsHTML += `<p><strong>Current Maturity: ${percentage}%</strong></p>`;
            recommendationsHTML += '<ul>';
           
            displayedRecs.forEach(rec => {
              recommendationsHTML += `<li><span class="priority-indicator priority-${rec.priority}">●</span> ${rec.text}</li>`;
            });
           
            recommendationsHTML += '</ul>';
           
            card.innerHTML = recommendationsHTML;
            recommendationsGrid.appendChild(card);
          }
        }
      });
     
      // Add general recommendations if we have space
      if (pillarsForRecommendations.length < pillarsToShow) {
        const generalCard = document.createElement('div');
        generalCard.className = 'recommendation-card';
       
        let generalRecs = [
          'Consider consolidating security vendors for better visibility and management',
          'Implement a unified security management platform',
          'Conduct regular security awareness training for all employees',
          'Establish a continuous improvement process for security controls',
          'Consider engaging with Check Point for a comprehensive security assessment',
          'Develop a 3-year cybersecurity roadmap aligned with business objectives'
        ];
       
        // Show more general recommendations for lower scores
        let generalRecsToShow = 3;
        if (overallScore < 50) {
          generalRecsToShow = Math.min(6, generalRecs.length);
        } else if (overallScore < 70) {
          generalRecsToShow = Math.min(4, generalRecs.length);
        }
       
        generalRecs = generalRecs.slice(0, generalRecsToShow);
       
        generalCard.innerHTML = `
          <h4>General Recommendations <span class="priority-badge priority-medium">Priority: MEDIUM</span></h4>
          <ul>
            ${generalRecs.map(rec => `<li>${rec}</li>`).join('')}
          </ul>
        `;
       
        recommendationsGrid.appendChild(generalCard);
      }
     
      // If no pillars need improvement but overall score isn't 100%
      if (pillarsForRecommendations.length === 0 && overallScore < 100) {
        const congratulationCard = document.createElement('div');
        congratulationCard.className = 'recommendation-card';
        congratulationCard.innerHTML = `
          <h4>🎉 Great Progress!</h4>
          <p>Your organization has achieved good maturity across all security pillars (above 80%).</p>
          <p>Consider these next steps:</p>
          <ul>
            <li>Focus on advanced threat hunting and proactive defense</li>
            <li>Implement automation for security operations</li>
            <li>Consider Zero Trust architecture implementation</li>
            <li>Engage in purple team exercises</li>
            <li>Benchmark against industry best practices</li>
          </ul>
        `;
        recommendationsGrid.appendChild(congratulationCard);
      }
    }
    async function generatePDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF('p', 'mm', 'a4');
     
      // Capture the results page as an image
      const element = document.getElementById('results');
     
      try {
        // Show loading state
        const originalText = document.getElementById('pdfBtn').textContent;
        document.getElementById('pdfBtn').textContent = 'Generating PDF...';
        document.getElementById('pdfBtn').disabled = true;
       
        // Use html2canvas to capture the element
        const canvas = await html2canvas(element, {
          scale: 2, // Higher quality
          useCORS: true,
          allowTaint: true,
          backgroundColor: '#ffffff'
        });
       
        const imgData = canvas.toDataURL('image/jpeg', 1.0);
       
        // Calculate dimensions
        const imgWidth = 190; // A4 width minus margins
        const imgHeight = (canvas.height * imgWidth) / canvas.width;
       
        // Add image to PDF
        doc.addImage(imgData, 'JPEG', 10, 10, imgWidth, imgHeight);
       
        // Add header
        doc.setFontSize(20);
        doc.setTextColor(0, 85, 165);
        doc.text('Cyber Security Maturity Assessment Report', 105, 20, { align: 'center' });
       
        // Add footer
        doc.setFontSize(10);
        doc.setTextColor(100, 100, 100);
        doc.text('Generated by Check Point Security Assessment Tool', 105, 285, { align: 'center' });
        doc.text(new Date().toLocaleDateString(), 105, 290, { align: 'center' });
       
        // Save the PDF
        doc.save(`CyberSecurity_Maturity_Report_${new Date().toISOString().slice(0, 10)}.pdf`);
       
        // Store the generated PDF for emailing
        generatedPDF = doc;
       
        // Reset button
        document.getElementById('pdfBtn').textContent = originalText;
        document.getElementById('pdfBtn').disabled = false;
       
      } catch (error) {
        console.error('Error generating PDF:', error);
        alert('Error generating PDF. Please try again.');
        document.getElementById('pdfBtn').textContent = 'Download PDF Report';
        document.getElementById('pdfBtn').disabled = false;
      }
    }
    function sendReportToClient() {
      const clientEmail = document.getElementById('clientEmail').value;
      const emailSuccess = document.getElementById('emailSuccess');
      const emailError = document.getElementById('emailError');
     
      if (!clientEmail || !isValidEmail(clientEmail)) {
        emailError.textContent = 'Please enter a valid email address.';
        emailError.style.display = 'block';
        emailSuccess.style.display = 'none';
        return;
      }
     
      // Show loading state
      emailSuccess.textContent = 'Sending report...';
      emailSuccess.style.display = 'block';
      emailError.style.display = 'none';
     
      // In a real implementation, you would:
      // 1. Generate PDF if not already generated
      // 2. Use EmailJS or backend API to send the email
      // 3. Handle success/error responses
     
      // For demo purposes, simulate email sending
      setTimeout(() => {
        emailSuccess.textContent = '✅ Your report has been sent to ' + clientEmail;
        emailSuccess.style.display = 'block';
       
        // Also send a copy to Nadine (silently)
        sendReportToNadine(true, clientEmail);
      }, 2000);
    }
    function sendReportToNadine(silent = false, clientEmail = null) {
      // This function sends the report to Nadine without the client knowing
      if (!silent) {
        const emailSuccess = document.getElementById('emailSuccess');
        emailSuccess.textContent = 'Sending report to consultant...';
        emailSuccess.style.display = 'block';
      }
     
      // In a real implementation:
      // 1. Generate PDF report
      // 2. Use EmailJS to send to nadine@cyberly.co.za
      // 3. Include client email if available
     
      setTimeout(() => {
        if (!silent) {
          const emailSuccess = document.getElementById('emailSuccess');
          emailSuccess.textContent = '✅ Report sent to consultant for review.';
          emailSuccess.style.display = 'block';
        }
       
        // Log for debugging
        console.log('Report sent to:', EMAILJS_CONFIG.nadineEmail);
        if (clientEmail) {
          console.log('Client email:', clientEmail);
        }
        console.log('Overall Score:', overallScore);
        console.log('Pillar Scores:', pillarScores);
      }, 1500);
    }
    function isValidEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }
    document.addEventListener('DOMContentLoaded', () => {
      // Load EmailJS
      (function() {
        emailjs.init(EMAILJS_CONFIG.userId);
      })();
     
      document.querySelectorAll('.answer input').forEach(inp => {
        inp.addEventListener('change', () => {
          const answer = inp.closest('.answer');
          answer.classList.toggle('selected', inp.checked);
          if (inp.type === 'radio') {
            document.querySelectorAll(`input[name="${inp.name}"]`).forEach(r => {
              if (r !== inp) r.closest('.answer').classList.remove('selected');
            });
          }
        });
      });
      // Exclusive "Not sure" / "None" logic
      document.querySelectorAll('.uncheck-all input').forEach(ex => {
        ex.addEventListener('change', function() {
          if (this.checked) {
            const q = this.name;
            document.querySelectorAll(`input[name="${q}"]:not(.uncheck-all input)`).forEach(inp => {
              inp.checked = false;
              inp.closest('.answer').classList.remove('selected');
            });
          }
        });
      });
      updateUI();
    });
  </script>
</body>
</html>
